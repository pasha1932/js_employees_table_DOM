function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t=function(e,t,n,r){var a=document.createElement("div"),o=document.createElement("h2");o.innerText=n,o.classList.add("title"),a.classList.add("notification","".concat(r)),a.setAttribute("data-qa","notification"),a.appendChild(o),document.body.insertAdjacentElement("afterbegin",a),a.style.top="".concat(e,"px"),a.style.right="".concat(t,"px"),setTimeout(function(){a.style.display="none"},2e3)},n=-1,r="ASC";document.querySelector("thead tr").addEventListener("click",function(t){"TH"===t.target.tagName&&function(t,a){var o=document.querySelectorAll("tbody tr"),c=function(t){if(Array.isArray(t))return e(t)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();c.sort(function(e,n){var r=e.cells[a].textContent,o=n.cells[a].textContent;switch(t){case"Name":case"Position":case"Office":return r.localeCompare(o);case"Age":return+r-+o;case"Salary":return+r.replaceAll(/[$,]/g,"")-+o.replaceAll(/[$,]/g,"")}}),n===a?r="ASC"===r?"DESC":"ASC":(r="ASC",n=a),"DESC"===r&&c.reverse();for(var i=0;i<o.length;i++)o[i].outerHTML=c[i].outerHTML}(t.target.textContent,t.target.cellIndex)});var a=document.querySelector("tbody");a.addEventListener("click",function(e){"TD"===e.target.tagName&&(a.querySelector(".active")&&a.querySelector(".active").classList.remove("active"),e.target.closest("tr").classList.add("active"))});var o=document.querySelector("table"),c=document.createElement("form");c.classList.add("new-employee-form"),["Name","Position","Office","Age","Salary"].map(function(e){var t=document.createElement("label"),n=document.createElement("input");if(t.innerText="".concat(e,": "),"Office"===e){var r=document.createElement("select");r.setAttribute("name","".concat(e.toLowerCase())),r.setAttribute("data-qa","".concat(e.toLowerCase())),r.setAttribute("required",""),t.insertAdjacentElement("beforeend",r)}else n.setAttribute("name","".concat(e.toLowerCase())),n.setAttribute("data-qa","".concat(e.toLowerCase())),n.setAttribute("type","text"),n.setAttribute("required",""),t.insertAdjacentElement("beforeend",n);c.append(t)}),c.elements.position.removeAttribute("required"),o.after(c),document.querySelector("form").age.setAttribute("type","number"),document.querySelector("form").salary.setAttribute("type","number");var i=document.querySelector("select");["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"].forEach(function(e,t){i.options[t]=new Option(e,i.options.length)});var l=document.createElement("button");l.innerText="Save to table",l.setAttribute("type","submit"),c.append(l),c.addEventListener("submit",function(e){e.preventDefault();var n=new FormData(c);if(n.get("name").length<4){t(10,10,"Name should have at least 4 characters","error");return}if(0===n.get("position").trim().length){t(10,10,"Position should have characters","error");return}if(18>+n.get("age")||+n.get("age")>90){t(10,10,"Age should have value between 18 and 90","error");return}if(0>+n.get("salary")){t(10,10,"Salary should be positive","error");return}var r=document.createElement("tr"),o=+c.elements.salary.value;r.insertAdjacentHTML("afterbegin","<td>".concat(n.get("name"),"</td>\n    <td>").concat(n.get("position"),"</td>\n    <td>").concat(i.options[n.get("office")].text,"</td>\n    <td>").concat(n.get("age"),"</td>\n    <td>$").concat(o.toLocaleString("en-US"),"</td>")),a.append(r),c.reset(),t(10,10,"New employee succesfully added to table","success")}),a.addEventListener("dblclick",function(e){var t=document.createElement("input"),n=e.target.closest("td");if(!n)return!1;n.cellIndex>=3&&t.setAttribute("type","number");var r=n.textContent;t.classList.add("cell-input"),t.value=n.textContent,n.textContent="",n.append(t),t.focus(),t.addEventListener("blur",function(){if(4===n.cellIndex){t.setAttribute("type","text");var e=+t.value;t.value="$"+e.toLocaleString("en-US")}n.textContent=t.value,t.remove(),(""===n.textContent||"$0"===n.textContent)&&(n.textContent=r)}),t.addEventListener("keypress",function(e){if("Enter"===e.code){if(4===n.cellIndex){t.setAttribute("type","text");var a=+t.value;t.value="$"+a.toLocaleString("en-US")}n.textContent=t.value,t.remove(),""===n.textContent&&(n.textContent=r)}})});
//# sourceMappingURL=index.4852a238.js.map
